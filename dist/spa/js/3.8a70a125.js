(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"713b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{staticClass:"bg-white text-primary",attrs:{bordered:""}},[s("q-toolbar",{staticClass:"bg-white text-primary rounded-borders"},[s("div",{staticClass:"q-gutter-sm row items-center no-wrap"},[s("q-btn",{staticClass:"hover-custom q-ma-sm q-mt-md",attrs:{"no-caps":"",color:"black",flat:""},nativeOn:{click:function(t){e.showProfile=!0}}},[e.profile?s("q-item",{staticClass:"text-left q-pa-none",attrs:{dense:""}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{color:"grey-3"}},[s("img",{attrs:{src:e.profile.foto}})])],1),e.$q.screen.gt.xs?s("q-item-section",[s("q-item-label",[e._v(e._s(e.profile.first_name))]),s("q-item-label",{staticClass:"text-black",attrs:{caption:"",lines:"1"}},[e._v(e._s(e.profile.email))])],1):e._e()],1):e._e()],1)],1)])],1),s("q-drawer",{staticStyle:{color:"#8A8A8A"},attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-3"}},[s("q-list",[s("q-item-label",{staticClass:"q-mt-lg q-mb-lg",attrs:{header:""}},[s("q-img",{staticStyle:{width:"180px"},attrs:{src:a("f41a")}})],1),e._l(e.menu,(function(t){return s("q-item",e._b({directives:[{name:"ripple",rawName:"v-ripple"}],key:t.title,staticClass:"menu_link",attrs:{"active-class":"bg-indigo-10 text-white",clickable:""},on:{click:function(a){return e.goTo(t.to)}}},"q-item",t,!1),[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:t.icon}})],1),s("q-item-section",[s("q-item-label",[e._v(e._s(t.title))])],1)],1)}))],2)],1),s("q-dialog",{attrs:{"content-class":"profile-dialog",square:!0,"full-height":"",position:e.$q.screen.xs?"standard":"right",maximized:e.$q.screen.xs,"transition-show":e.$q.screen.xs?"slide-up":"slide-left","transition-hide":e.$q.screen.xs?"slide-down":"slide-right"},model:{value:e.showProfile,callback:function(t){e.showProfile=t},expression:"showProfile"}},[s("profile-detail",{attrs:{profile:e.profile},on:{close:function(t){e.showProfile=!1},logout:e.logOut}})],1),s("q-page-container",[s("transition",{attrs:{name:"slide",mode:"out-in"}},[s("router-view")],1)],1)],1)},r=[],o=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.profile?a("div",{staticClass:"row bg-white"},[a("div",{staticClass:"col-12 bg-primary",staticStyle:{height:"210px"}},[a("q-btn",{staticClass:"float-right q-mr-md q-mt-md",attrs:{round:"",flat:"",color:"white",icon:"close"},on:{click:function(t){return e.$emit("close")}}}),a("q-card",{staticClass:"my-card q-ma-md",staticStyle:{top:"50px"}},[a("q-card-section",{staticStyle:{height:"60px"}},[a("q-avatar",{staticClass:"absolute fixed-center",staticStyle:{top:"0"},attrs:{size:"100px",color:"grey-6"}},[a("img",{attrs:{src:e.profile.foto}})])],1),a("q-card-section",{staticClass:"q-pt-none text-center"},[a("div",{staticClass:"text-subtitle1"},[e._v("\n          "+e._s(e.profile.first_name)+"\n        ")]),a("div",{staticClass:"text-subtitle1 text-primary q-mt-md"},[a("q-btn",{attrs:{"no-caps":"",flat:""},on:{click:e.logout}},[e._v("Cerrar sesión")])],1)]),a("q-separator")],1)],1),a("div",{staticClass:"col-12 q-mt-lg"},[a("q-list",{staticClass:"q-pt-lg",attrs:{separator:""}},[a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v("Email")]),a("q-item-label",[e._v(e._s(e.profile.email))])],1)],1)],1)],1)]):e._e()},l=[],n=o["default"].extend({data(){return{}},methods:{logout(){localStorage.removeItem("token"),this.$router.push("/Login")}},props:["profile"]}),c=n,u=a("2877"),m=a("9c40"),p=a("f09f"),d=a("a370"),f=a("cb32"),g=a("eb85"),q=a("1c1c"),h=a("66e5"),v=a("4074"),b=a("0170"),_=a("eebe"),w=a.n(_),x=Object(u["a"])(c,i,l,!1,null,null,null),C=x.exports;w()(x,"components",{QBtn:m["a"],QCard:p["a"],QCardSection:d["a"],QAvatar:f["a"],QSeparator:g["a"],QList:q["a"],QItem:h["a"],QItemSection:v["a"],QItemLabel:b["a"]});var Q=a("d272"),y=a("afbf"),k=o["default"].extend({name:"MainLayout",components:{ProfileDetail:C},data(){return{showProfile:!1,menu:[{title:"Usuarios",caption:"quasar.dev",icon:Q["j"],to:"Users"},{title:"Productos",caption:"quasar.dev",icon:Q["f"],to:"Products"},{title:"Marcas",caption:"quasar.dev",icon:Q["b"],to:"Brands"},{title:"Categorias",caption:"quasar.dev",icon:Q["h"],to:"Categories"},{title:"Características",caption:"quasar.dev",icon:Q["i"],to:"Features"},{title:"Proveedores",caption:"quasar.dev",icon:Q["d"],to:"Suppliers"},{title:"Compras a proveedores",caption:"quasar.dev",icon:Q["e"],to:"SupplyOrders"},{title:"Promociones",caption:"quasar.dev",icon:Q["a"],to:"Promotions"},{title:"Ventas",caption:"quasar.dev",icon:Q["g"],to:"Sales"},{title:"Métodos de pago",caption:"quasar.dev",icon:Q["c"],to:"Payments"}],profile:null}},created(){y["a"].getUserMe().subscribe({next:e=>{console.log("entreeeeeeeeee"),console.log(e),this.profile=e},complete:()=>console.log("[complete]")})},methods:{logOut(){},goTo(e){this.$router.push({path:"/"+e})}}}),S=k,$=(a("89d3"),a("4d5a")),P=a("e359"),I=a("65c6"),U=a("6ac5"),L=a("9404"),A=a("068f"),O=a("0016"),M=a("24e8"),T=a("09e3"),j=a("714f"),z=Object(u["a"])(S,s,r,!1,null,null,null);t["default"]=z.exports;w()(z,"components",{QLayout:$["a"],QHeader:P["a"],QToolbar:I["a"],QBtn:m["a"],QToolbarTitle:U["a"],QItem:h["a"],QItemSection:v["a"],QAvatar:f["a"],QItemLabel:b["a"],QDrawer:L["a"],QList:q["a"],QImg:A["a"],QIcon:O["a"],QDialog:M["a"],QPageContainer:T["a"]}),w()(z,"directives",{Ripple:j["a"]})},"89d3":function(e,t,a){"use strict";var s=a("e87e"),r=a.n(s);r.a},afbf:function(e,t,a){"use strict";var s=a("e9b9"),r=a("bc3a"),o=a.n(r);a("f2ea");function i(){let e=localStorage.getItem("token");return e?{Authorization:"token "+e}:{}}const l='"http://minimarketcolosal.com/api/"';class n{getUserMe(){return s["a"].create(e=>{o.a.get(l+"users/me/",{headers:i()}).then(t=>{e.next(t.data),e.complete()}).catch(t=>{e.error(t)})})}getUsers(e,t){return s["a"].create(a=>{o.a.get(l+`users/?limit=${e}&offset=${t}`).then(e=>{a.next(e.data),a.complete()}).catch(e=>{a.error(e)})})}findUsers(e){return s["a"].create(t=>{o.a.get(l+"users/find/?query="+e).then(e=>{t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}createUser(e){return s["a"].create(t=>{o.a.post(l+"users/",{is_superuser:e.is_superuser,username:e.email,first_name:e.first_name,last_name:"",email:e.email,password:e.password,is_staff:!0,is_active:!0}).then(e=>{console.log(e),t.complete()}).catch(e=>{t.error(e)})})}getUser(e){return s["a"].create(t=>{console.log("id: "+e),o.a.get(l+`users/${e}/`).then(e=>{t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}updateUser(e){return s["a"].create(t=>{o.a.put(l+`users/${e.id}/`,{is_superuser:e.is_superuser,username:e.email,first_name:e.first_name,last_name:"",email:e.email,password:e.password,is_staff:!0,is_active:!0}).then(e=>{console.log(),t.complete()}).catch(e=>{t.error(e)})})}deleteUser(e){return s["a"].create(t=>{o.a.delete(l+`users/${e}/`).then(e=>{console.log(e),t.complete()}).catch(e=>{t.error(e)})})}}t["a"]=new n},e87e:function(e,t,a){},f2ea:function(e,t,a){"use strict"},f41a:function(e,t,a){e.exports=a.p+"img/logo_colosal.86d15993.png"}}]);