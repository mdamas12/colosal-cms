(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{2115:function(t,e,a){"use strict";function s(){let t=localStorage.getItem("token");return t?{Authorization:"token "+t}:{}}a.d(e,"a",(function(){return s}))},"713b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-header",{staticClass:"bg-white text-primary",attrs:{bordered:""}},[s("q-toolbar",{staticClass:"bg-white text-primary rounded-borders"},[s("div",{staticClass:"q-gutter-sm row items-center no-wrap"},[s("q-btn",{staticClass:"hover-custom q-ma-sm q-mt-md",attrs:{"no-caps":"",color:"black",flat:""},nativeOn:{click:function(e){t.showProfile=!0}}},[t.profile?s("q-item",{staticClass:"text-left q-pa-none",attrs:{dense:""}},[s("q-item-section",{attrs:{avatar:""}},[s("q-avatar",{attrs:{color:"grey-3"}},[s("img",{attrs:{src:t.profile.foto}})])],1),t.$q.screen.gt.xs?s("q-item-section",[s("q-item-label",[t._v(t._s(t.profile.first_name))]),s("q-item-label",{staticClass:"text-black",attrs:{caption:"",lines:"1"}},[t._v(t._s(t.profile.email))])],1):t._e()],1):t._e()],1)],1)])],1),s("q-drawer",{staticStyle:{color:"#8A8A8A"},attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-3"}},[s("q-list",[s("q-item-label",{staticClass:"q-mt-lg q-mb-lg",attrs:{header:""}},[s("q-img",{staticStyle:{width:"180px"},attrs:{src:a("f41a")}})],1),t._l(t.menu,(function(e){return s("q-item",t._b({directives:[{name:"ripple",rawName:"v-ripple"}],key:e.title,staticClass:"menu_link",attrs:{"active-class":"bg-indigo-10 text-white",clickable:""},on:{click:function(a){return t.goTo(e.to)}}},"q-item",e,!1),[s("q-item-section",{attrs:{avatar:""}},[s("q-icon",{attrs:{name:e.icon}})],1),s("q-item-section",[s("q-item-label",[t._v(t._s(e.title))])],1)],1)}))],2)],1),s("q-dialog",{attrs:{"content-class":"profile-dialog",square:!0,"full-height":"",position:t.$q.screen.xs?"standard":"right",maximized:t.$q.screen.xs,"transition-show":t.$q.screen.xs?"slide-up":"slide-left","transition-hide":t.$q.screen.xs?"slide-down":"slide-right"},model:{value:t.showProfile,callback:function(e){t.showProfile=e},expression:"showProfile"}},[s("profile-detail",{attrs:{profile:t.profile},on:{close:function(e){t.showProfile=!1},logout:t.logOut}})],1),s("q-page-container",[s("transition",{attrs:{name:"slide",mode:"out-in"}},[s("router-view")],1)],1)],1)},r=[],o=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.profile?a("div",{staticClass:"row bg-white"},[a("div",{staticClass:"col-12 bg-primary",staticStyle:{height:"210px"}},[a("q-btn",{staticClass:"float-right q-mr-md q-mt-md",attrs:{round:"",flat:"",color:"white",icon:"close"},on:{click:function(e){return t.$emit("close")}}}),a("q-card",{staticClass:"my-card q-ma-md",staticStyle:{top:"50px"}},[a("q-card-section",{staticStyle:{height:"60px"}},[a("q-avatar",{staticClass:"absolute fixed-center",staticStyle:{top:"0"},attrs:{size:"100px",color:"grey-6"}},[a("img",{attrs:{src:t.profile.foto}})])],1),a("q-card-section",{staticClass:"q-pt-none text-center"},[a("div",{staticClass:"text-subtitle1"},[t._v("\n          "+t._s(t.profile.first_name)+"\n        ")]),a("div",{staticClass:"text-subtitle1 text-primary q-mt-md"},[a("q-btn",{attrs:{"no-caps":"",flat:""},on:{click:t.logout}},[t._v("Cerrar sesión")])],1)]),a("q-separator")],1)],1),a("div",{staticClass:"col-12 q-mt-lg"},[a("q-list",{staticClass:"q-pt-lg",attrs:{separator:""}},[a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[t._v("Email")]),a("q-item-label",[t._v(t._s(t.profile.email))])],1)],1)],1)],1)]):t._e()},n=[],l=o["default"].extend({data(){return{}},methods:{logout(){localStorage.removeItem("token"),this.$router.push("/Login")}},props:["profile"]}),c=l,u=a("2877"),m=a("9c40"),d=a("f09f"),p=a("a370"),f=a("cb32"),g=a("eb85"),q=a("1c1c"),h=a("66e5"),v=a("4074"),b=a("0170"),_=a("eebe"),w=a.n(_),x=Object(u["a"])(c,i,n,!1,null,null,null),C=x.exports;w()(x,"components",{QBtn:m["a"],QCard:d["a"],QCardSection:p["a"],QAvatar:f["a"],QSeparator:g["a"],QList:q["a"],QItem:h["a"],QItemSection:v["a"],QItemLabel:b["a"]});var Q=a("d272"),y=a("afbf"),k=o["default"].extend({name:"MainLayout",components:{ProfileDetail:C},data(){return{showProfile:!1,menu:[{title:"Usuarios",caption:"quasar.dev",icon:Q["j"],to:"Users"},{title:"Productos",caption:"quasar.dev",icon:Q["f"],to:"Products"},{title:"Marcas",caption:"quasar.dev",icon:Q["b"],to:"Brands"},{title:"Categorias",caption:"quasar.dev",icon:Q["h"],to:"Categories"},{title:"Características",caption:"quasar.dev",icon:Q["i"],to:"Features"},{title:"Proveedores",caption:"quasar.dev",icon:Q["d"],to:"Suppliers"},{title:"Compras a proveedores",caption:"quasar.dev",icon:Q["e"],to:"SupplyOrders"},{title:"Promociones",caption:"quasar.dev",icon:Q["a"],to:"Promotions"},{title:"Ventas",caption:"quasar.dev",icon:Q["g"],to:"Sales"},{title:"Métodos de pago",caption:"quasar.dev",icon:Q["c"],to:"Payments"}],profile:null}},created(){y["a"].getUserMe().subscribe({next:t=>{console.log("entreeeeeeeeee"),console.log(t),this.profile=t},complete:()=>console.log("[complete]")})},methods:{logOut(){},goTo(t){this.$router.push({path:"/"+t})}}}),P=k,S=(a("89d3"),a("4d5a")),$=a("e359"),I=a("65c6"),U=a("6ac5"),L=a("9404"),A=a("068f"),O=a("0016"),M=a("24e8"),T=a("09e3"),j=a("714f"),z=Object(u["a"])(P,s,r,!1,null,null,null);e["default"]=z.exports;w()(z,"components",{QLayout:S["a"],QHeader:$["a"],QToolbar:I["a"],QBtn:m["a"],QToolbarTitle:U["a"],QItem:h["a"],QItemSection:v["a"],QAvatar:f["a"],QItemLabel:b["a"],QDrawer:L["a"],QList:q["a"],QImg:A["a"],QIcon:O["a"],QDialog:M["a"],QPageContainer:T["a"]}),w()(z,"directives",{Ripple:j["a"]})},"89d3":function(t,e,a){"use strict";var s=a("e87e"),r=a.n(s);r.a},afbf:function(t,e,a){"use strict";(function(t){var s=a("e9b9"),r=a("bc3a"),o=a.n(r),i=(a("f2ea"),a("2115"));const n=t.env.API_URL;class l{getUserMe(){return s["a"].create(t=>{o.a.get(n+"users/me/",{headers:Object(i["a"])()}).then(e=>{t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}getUsers(t,e){return s["a"].create(a=>{o.a.get(n+`users/?limit=${t}&offset=${e}`).then(t=>{a.next(t.data),a.complete()}).catch(t=>{a.error(t)})})}findUsers(t){return s["a"].create(e=>{o.a.get(n+"users/find/?query="+t).then(t=>{e.next(t.data),e.complete()}).catch(t=>{e.error(t)})})}createUser(t){return s["a"].create(e=>{o.a.post(n+"users/",{is_superuser:t.is_superuser,username:t.email,first_name:t.first_name,last_name:"",email:t.email,password:t.password,is_staff:!0,is_active:!0}).then(t=>{console.log(t),e.complete()}).catch(t=>{e.error(t)})})}getUser(t){return s["a"].create(e=>{console.log("id: "+t),o.a.get(n+`users/${t}/`).then(t=>{e.next(t.data),e.complete()}).catch(t=>{e.error(t)})})}updateUser(t){return s["a"].create(e=>{o.a.put(n+`users/${t.id}/`,{is_superuser:t.is_superuser,username:t.email,first_name:t.first_name,last_name:"",email:t.email,password:t.password,is_staff:!0,is_active:!0}).then(t=>{console.log(),e.complete()}).catch(t=>{e.error(t)})})}deleteUser(t){return s["a"].create(e=>{o.a.delete(n+`users/${t}/`).then(t=>{console.log(t),e.complete()}).catch(t=>{e.error(t)})})}}e["a"]=new l}).call(this,a("4362"))},e87e:function(t,e,a){},f2ea:function(t,e,a){"use strict"},f41a:function(t,e,a){t.exports=a.p+"img/logo_colosal.86d15993.png"}}]);