(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"424b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-page",[r("div",{staticClass:"col-md-12 col-xs-12 q-pa-sm"},[r("div",{staticClass:"q-pa-sm"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col2"},[r("q-btn",{staticStyle:{color:"#9E9E9E"},attrs:{flat:"",round:"",icon:"keyboard_backspace"},on:{click:function(t){return e.$router.back()}}})],1),r("h5",{staticClass:"vertical-top col2 text-indigo-10 text-weight-bolder q-pa-sm",staticStyle:{"margin-top":"-3px"}},[e._v("\n                  Crear Proveedor\n              ")])]),r("div",{staticClass:"form-section",staticStyle:{padding:"20px"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col q-mr-md"},[r("q-input",{attrs:{outlined:"",label:"Nombre","lazy-rules":"",rules:[function(e){return!!e||"Debe ingresar el nombre"}]},model:{value:e.supplier.name,callback:function(t){e.$set(e.supplier,"name",t)},expression:"supplier.name"}})],1),r("div",{staticClass:"col"},[r("q-input",{ref:"email",attrs:{outlined:"",type:"email",label:"Correo","lazy-rules":"",rules:[function(e){return!!e||"Debe ingresar un correo"},e.isValidEmail]},model:{value:e.supplier.email,callback:function(t){e.$set(e.supplier,"email",t)},expression:"supplier.email"}})],1)]),r("div",{staticClass:"row q-my-sm"},[r("div",{staticClass:"col"},[r("q-input",{attrs:{outlined:"",label:"Dirección","lazy-rules":"",rules:[function(e){return!!e||"Debe ingresar una dirección"}]},model:{value:e.supplier.address,callback:function(t){e.$set(e.supplier,"address",t)},expression:"supplier.address"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col q-mr-md"},[r("q-input",{attrs:{outlined:"",label:"Número de Teléfono","lazy-rules":"",rules:[function(e){return!!e||"Debe ingresar un número de telefono"},e.isValidPhone]},model:{value:e.supplier.number,callback:function(t){e.$set(e.supplier,"number",t)},expression:"supplier.number"}})],1),r("div",{staticClass:"col"},[r("q-input",{attrs:{outlined:"",label:"Representante","lazy-rules":"",rules:[function(e){return!!e||"Debe ingresar el representante"}]},model:{value:e.supplier.agent,callback:function(t){e.$set(e.supplier,"agent",t)},expression:"supplier.agent"}})],1)])]),r("q-btn",{staticClass:"q-pa-xs q-mt-md q-mr-md float-right",attrs:{color:"red-10",label:"Crear Proveedor",loading:e.loading},on:{click:function(t){return e.checkSupplier()}}})],1)])])},s=[],i=r("2b0e"),l=r("89b8"),n=i["default"].extend({data(){return{loading:!1,supplier:{name:"",address:"",email:"",number:"",agent:""}}},methods:{showNotif(e,t){this.$q.notify({message:e,color:t,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]})},checkSupplier(){""!==this.supplier.name&&""!==this.supplier.address&&""!==this.supplier.email&&""!==this.supplier.number&&""!==this.supplier.agent?(console.log("everything in order. Creating user..."),this.loading=!0,this.createSupplier()):this.showNotif("Faltan campos por completar","red-10")},createSupplier(){this.loading=!0;l["a"].createSupplier(this.supplier).subscribe({next:()=>{this.loading=!1,this.showNotif("Usuario creado exitosamente","indigo-10"),setTimeout(()=>this.backToSuppliers(),1e3)},complete:()=>console.log("[complete]")})},isValidEmail(e){const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return t.test(e)||"Correo inválido"},isValidPhone(e){const t=/^(?=[0-9+-]{1,15}$)/;return t.test(e)||"Teléfono inválido"},backToSuppliers(){this.$router.back()}}}),o=n,c=r("2877"),p=r("9989"),u=r("9c40"),d=r("27f9"),m=r("eebe"),b=r.n(m),h=Object(c["a"])(o,a,s,!1,null,null,null);t["default"]=h.exports;b()(h,"components",{QPage:p["a"],QBtn:u["a"],QInput:d["a"]})},"4f5a":function(e,t,r){"use strict"},"89b8":function(e,t,r){"use strict";var a=r("e9b9"),s=r("bc3a"),i=r.n(s);r("4f5a");const l='"http://minimarketcolosal.com/api/"panel/';class n{getSuppliers(e,t){return a["a"].create(r=>{i.a.get(l+`providers/?limit=${e}&offset=${t}`).then(e=>{r.next(e.data),r.complete()}).catch(e=>{r.error(e)})})}createSupplier(e){return a["a"].create(t=>{i.a.post(l+"providers/",{name:e.name,address:e.address,email:e.email,number:e.number,agent:e.agent}).then(e=>{console.log(e),t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}getSupplier(e){return a["a"].create(t=>{console.log("id: "+e),i.a.get(l+`providers/${e}/`).then(e=>{t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}searchSuppliers(e){return a["a"].create(t=>{i.a.get(l+`providers/search/${e}/`).then(e=>{t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}updateSupplier(e){return a["a"].create(t=>{i.a.put(l+`providers/${e.id}/`,{name:e.name,address:e.address,email:e.email,number:e.number,agent:e.agent}).then(e=>{console.log(),t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}deleteSupplier(e){return a["a"].create(t=>{i.a.delete(l+`providers/${e}/`).then(e=>{console.log(e),t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}}t["a"]=new n}}]);