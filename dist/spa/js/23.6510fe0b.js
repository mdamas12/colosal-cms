(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{"1d68":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("div",{staticClass:"col-md-12 col-xs-12 q-pa-sm"},[a("div",{staticClass:"q-pa-sm"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col",staticStyle:{"max-width":"40px"}},[a("q-btn",{staticStyle:{color:"#9E9E9E"},attrs:{flat:"",round:"",icon:"keyboard_backspace"},on:{click:function(t){return e.$router.back()}}})],1),a("div",{staticClass:"col2"},[a("h5",{staticClass:"vertical-top col2 text-indigo-10 text-weight-bolder q-pa-sm",staticStyle:{"margin-top":"-3px"}},[e._v("\n                  Editar Categoría\n              ")])]),a("div",{staticClass:"col"},[a("q-btn",{staticClass:"q-pa-xs q-mt-xs q-mr-md float-right",attrs:{color:"red-10",label:"Crear Categoría"},on:{click:function(t){return e.checkCategory()}}})],1)]),a("div",{staticClass:"q-ma-md"},[a("div",{staticClass:"row justify-between items-center"},[a("div",{staticClass:"col-9 justify-evenly"},[a("div",{staticClass:"row q-my-sm"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",label:"Nombre",color:"dark","lazy-rules":"",rules:[function(e){return!!e||"Debe ingresar el nombre"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)]),a("div",{staticClass:"row items-center q-my-sm"},[a("div",{staticClass:"col"},[a("q-file",{attrs:{outlined:"",clearable:"",counter:""},on:{rejected:e.onRejected,input:e.getImage},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_file"}})]},proxy:!0}]),model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1)])]),a("div",{staticClass:"col-2"},[null!==e.image?a("div",[a("q-img",{staticStyle:{"max-width":"150px"},attrs:{src:e.preview}})],1):e._e()])])])])])])},r=[],s=a("2b0e"),n=a("fab5"),c=a("f508"),i=s["default"].extend({data(){return{name:"",image:null,preview:null,uploading:null}},methods:{showNotif(e,t){this.$q.notify({message:e,color:t,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]})},checkCategory(){""!==this.name&&null!=this.image?(console.log("everything in order. Creating user..."),this.createCategory()):this.showNotif("Faltan campos por completar","red-10")},createCategory(){if(c["a"].show(),null!==this.image){const e=new FormData;e.append("name",this.name),e.append("image",this.image,this.image.name);n["a"].createCategory(e).subscribe({complete:()=>{c["a"].hide(),this.$router.back()}})}},getImage(e){console.log(e);let t=new FileReader;t.readAsDataURL(e),t.onload=e=>{this.preview=e.target.result}},onRejected(e){this.$q.notify({type:"negative",message:"El archivo seleccionado no es de tipo .png"})}}}),l=i,d=a("2877"),m=a("9989"),g=a("9c40"),u=a("27f9"),p=a("7d53"),h=a("0016"),f=a("068f"),C=a("eebe"),v=a.n(C),y=Object(d["a"])(l,o,r,!1,null,null,null);t["default"]=y.exports;v()(y,"components",{QPage:m["a"],QBtn:g["a"],QInput:u["a"],QFile:p["a"],QIcon:h["a"],QImg:f["a"]})},fab5:function(e,t,a){"use strict";var o=a("e9b9"),r=a("a748");const s="panel/";class n{getCategories(e,t){return o["a"].create(a=>{r["a"].get(s+`categories/?limit=${e}&offset=${t}`).then(e=>{a.next(e.data),a.complete()}).catch(e=>{a.error(e)})})}getAllCategories(){return o["a"].create(e=>{r["a"].get(s+"categories/list-all").then(t=>{e.next(t.data),e.complete()}).catch(t=>{e.error(t)})})}createCategory(e){return o["a"].create(t=>{console.log(e),r["a"].post(s+"categories/save/",e,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{console.log(e),t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}getCategory(e){return o["a"].create(t=>{console.log("id: "+e),r["a"].get(s+`categories/${e}/`).then(e=>{t.next(e.data),t.complete()}).catch(e=>{t.error(e)})})}updateCategory(e,t){return o["a"].create(a=>{r["a"].put(s+`categories/${e}/`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{console.log(),a.next(e.data),a.complete()}).catch(e=>{a.error(e)})})}deleteCategory(e){return o["a"].create(t=>{r["a"].delete(s+`categories/${e}/`).then(e=>{console.log("Entreee"),t.next(e.data),t.complete()}).catch(e=>{console.log("nooo Entreee",e),t.error(e)})})}}t["a"]=new n}}]);